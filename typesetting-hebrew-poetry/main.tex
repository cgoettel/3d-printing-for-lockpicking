\documentclass{acm_proc_article-sp}

% add references from initial post

\title{Typesetting Biblical Hebrew Poetry}
\author{
\alignauthor
Colby Goettel\\
       \affaddr{Brigham Young University}\\
       \affaddr{Provo, UT 84602}\\
       \email{colby.goettel@gmail.com}
}

\usepackage{mathtools}
% Hebrew
\usepackage{xltxtra}
\newfontfamily{\sblh}[Script=Hebrew]{SBL Hebrew}
\newcommand\Hebrew[1]{{\large\sblh #1}}

\begin{document}
\maketitle

\section{Introduction}
Fundamentally, everything in IT is problem solving. I believe it is what has driven all of us into this field, what keeps us going. This project is rooted in problem solving and that's the direction this paper will take: what the initial problem is, what obstacles lie in wait, and how they were solved.

This project is aimed at increasing Biblical understanding through a more idiomatic typesetting of English translations of the Hebrew Bible. Modern typesetting techniques will be used to better display information so that the meaning is clearer and more readily apparent.

\section{Form of Biblical Hebrew poetry}
The authors of the Hebrew Bible communicated information in the physical structure and layout of the Hebrew script. The information in the physical structure and layout of the Hebrew script is lost when translated into plain, English prose, such as in the King James Version of the Holy Bible. Specialized typesetting and rendering software procedures are needed to preserve the Hebrew physical layout, structure, and meaning in modern English translations.

Hebrew poetry holds a unique structure. English poetry is based on rhyming and rhythm, whereas Hebrew poetry is grounded in parallelisms and comparing and contrasting. Having the English translation mimic the Hebrew indentation helps the reader to intuitively see the beautiful, poetic structure of the scriptures; it will help people better understand the scriptures. Here's an example of Isaiah 53:5 in Hebrew, typical English, and a preferred typesetting in English:
\begin{align}
    &^5\,\text{He was wounded for our transgressions, He was bruised for our iniquities. Upon Him was the} \\
    &\text{punishment through which we receive peace. We are healed by His stripes.}
\end{align}
\begin{align}
    ^5\,&\text{He was wounded for our transgressions, ~~~~He was bruised for our iniquities.} \\
        &\text{Upon Him was the punishment through which we receive peace. ~~~~We are healed by His stripes.}
\end{align}

The problem with the latter, preferred layout (5 and 6) is that, for space, it must be typeset in one column, not the two column format that the rest of the Bible is typeset in. The way that 5 and 6 were done is a hack: it's case specific and not extensible. It uses an environment meant for displaying mathematical equations, not Hebrew poetry. We will create macros to format translated Hebrew poetry correctly.

% new content
This need becomes especially apparent in poetic verses. Biblical Hebrew poetry has a unique form and it quite different than English poetry. Hebrew poetry is not based off rhyme or meter, but parallelism. Mimicking this form is complex and not very straightforward. Here is a short example from Isaiah~53\thinspace:\thinspace5 showing some of the complexities of Biblical Hebrew poetry:
\begin{align*} % Isaiah 53:5
    \text{\Hebrew{מֵעֲוֹנֹתֵ֑ינוּ מְדֻכָּ֖א~~~~ מִפְּשָׁעֵ֔נוּ מְחֹלָ֣ל וְהוּא֙}}&\,^5 \\
    \text{\Hebrew{נִרְפָּא־לָֽנוּ׃ וּבַחֲבֻרָתֹ֖ו~~~~ עָלָ֔יו שְׁלֹומֵ֙נוּ֙ מוּסַ֤ר}}&
\end{align*}
As can be seen from this example, the lines are indented at different levels and there's a space in the middle of the lines. To make matters worse, the level of indentation can vary anywhere from one to four levels; the space in the middle can be present, not present, or doubly present. There is very little consistency between lines.

\section{Specifications}
% **Specifications:**
% - [x] Each line is indented at least once.
%     using minipages did this naturally.
%     tried using \hbox and \pbox, but neither did what needed to be done. Didn't want a box around it and the indentation didn't work when a new-line occurred in the middle of a verse.
% - [x] Not every verse starts on a new line. Verses can start in the middle of an existing line.
%     had to create the \vn macro to handle this.
% - [x] Each line is comprised of sections:
%   1. Each section is separated by a space.
%     played around with different spacings, purely aesthetic, and ended up using the 1em spacing. Anything else threw the word spacing off by too much.
%   2. There should be no trailing whitespace.
%     so you can't just constantly throw in the 1em space. It needed to be precise.
%   3. Can't assume that there will always be one or two sections, sometimes three or more appear. It is always variable.
%     Currently handling from aa to dd.
Each line is indented at least once, but sometimes more. These indentations need to be vertically consistent. When a new line appears in the middle of a line due to length, the new line needs to be indented as much as its parent line. This also means that new lines must appear and lines cannot bleed off the page.

Each line can contain multiple sections, but sometimes none. These sections need to be spaced out.

Not every verse starts on a new line; sometimes the verse starts in the middle of a line. 

\section{Obstacles}
\section{Problem solving}
We propose creating specialized macros for typesetting English translations of Hebrew, Biblical texts. These macros will be created for the \LaTeX\ [5] document preparation system. \LaTeX\ and its \TeX\ [2] typesetting language are powerful typesetting systems created by computer scientists to create highly technical and customized documents. \XeTeX\ extends the \LaTeX\ ecosystem providing support for typesetting multiple languages via Unicode. We will use the \XeTeX\ environment as a foundation upon which to build our Biblical Hebrew typesetting tools. The research problems we will be addressing include the layout of translated Hebrew poetry, typesetting multiple foreign scripts, and the page flow of chapters and verses.

This project has been ongoing for the better part of three years, with prototypes spanning the past several years. Goettel has already translated 10\% of the BHS. This significant translation will serve as a working prototype for testing and researching this project's new methods. Currently, Goettel's translation and expository notes include nine natural languages.

In \LaTeX\, all features~--- fonts, paper sizes, mathematic symbols and equations, foreign scripts~--- are implemented via macros. Typesetting Goettel's translation of the BHS already relies on seventeen \LaTeX\ packages. However, while extensive efforts to utilize existing \LaTeX\ packages has been spent, the existing packages are not sufficient to properly typeset the intention of the BHS authors. New typesetting macros, specific for Biblical translation, need to be created.

Macro languages are a core, theoretical topic of programming languages in computer science. \LaTeX\ is a highly-expressive macro language built on top of the \TeX\ primitives. One possible method for solving these Biblical typesetting problems is to use Scribble [4], a macro language which expands to produce \LaTeX\ code.

Scribble is based on the Racket [3] programming language. Professor Tew is a contributor to both the Racket and Scribble programming languages. Tew's PhD advisor, Professor Matthew Flatt (University of Utah), is the principal author of Racket and Scribble. One of Goettel's Hebrew mentors is Professor Stephen D. Ricks in BYU's Department of Asian and Near Eastern Languages who specializes in comparative Semitics. Both Drs. Flatt and Ricks are field experts available for consultation on this project.

\paragraph{Anticipated Academic Outcome}
The expected products of this project are a peer-reviewed academic paper related to Biblical typesetting and \LaTeX\ macros for Hebrew to English Biblical translations. \LaTeX\ macros are grouped into packages and distributed on the Internet. Internet distribution through the Comprehensive \TeX\ Archive Network (CTAN) will allow our project's results to be used by \LaTeX\ typesetters around the world. This project's CTAN package documentation will lead to further research in a system for easily typesetting documents containing multiple languages and be of great use to researchers worldwide.

\section{Other obstacles}
\paragraph{Multiple scripts}
This project will also advance research into the area of typesetting in one document multiple foreign scripts (Biblical Hebrew, Aramaic, Syriac, Egyptian, Ancient Greek, Paleo-Hebrew, Arabic, etc.) and Latin scripts (Latin, Spanish, French, German, etc.). Effective understanding of Hebrew requires examples from other languages. For example, in Hebrew there are two words for a river, one meaning a seasonal river (\Hebrew{‫נחל‬}), the other meaning a perennial river (\Hebrew{‫נהר‬}). English does not have a word for either, simply ``river.'' But Spanish has arroyo and Arabic has wādī for ``seasonal river.'' Goettel's translation of the Bible typesets words and phrases from ancient and modern natural languages to add understanding to the ambiguous Hebrew text. We will create macros to allow for linguistic expository notes in footnotes and appendices.

\paragraph{Book, chapter, verse page flow}
The numbering in the headers, which happens dynamically on document compilation, is not sufficient for Biblical flow (e.g., when a new chapter ends the page). Existing header macros are not sufficiently refined for semantic markup of scriptural verses. Additionally, footnote macros are not semantically tied to verses, but rather to pages. We will create specialized macros for typesetting Bible verses to address these problems.

\section{Qualifications}
Goettel is a senior majoring in Information Technology with a minor in Biblical Hebrew. It is his personal translation of the Hebrew Bible that is being typeset. Goettel has a over a year of intensive experience with \LaTeX\. Additionally, he has a high working proficiency in both Biblical Hebrew and Imperial Aramaic, the two languages which appear in the Hebrew Bible. Previously, he has created packages in \LaTeX\ which have been used to typeset documents for Professor Tew's Computer Networks (IT 347) course. He is passionate about typography and information architecture, which lends itself greatly to not just typesetting a Bible, but making it intuitive and beautiful.

Professor Tew has years of experience with computer macro languages such as \LaTeX\ Racket, and Scribble. Dr. Tew's PhD training was in the Programming Language sub-discipline of Computer Science with specific training in macro programming languages. He has developed strong analytical and problem solving skills that can aid in finding simple, yet elegant, solutions. He will serve as an essential resource and mentor in this project.

\section{Conclusion}

% changed verse numbers to superscript to get them out of the way
%     red so they don't look like footnotes
% added commands to handle formatting the Hebrew
%     need to consolidate these (but not for this paper)

% NOTES FROM ISSUE #1:
% Mimic layout of verses in the BHS. Possibly using this: http://mirror.math.ku.edu/tex-archive/macros/latex/contrib/verse/verse.pdf
%     This ended up not being used. It was simpler for this complex purpose to build something unique.

% Need to preserve indentation (both at beginning of line and in middle).

% **Specifications:**
% - [x] Each line is indented at least once.
%     using minipages did this naturally.
%     tried using \hbox and \pbox, but neither did what needed to be done. Didn't want a box around it and the indentation didn't work when a new-line occurred in the middle of a verse.
% - [x] Not every verse starts on a new line. Verses can start in the middle of an existing line.
%     had to create the \vn macro to handle this.
% - [x] Each line is comprised of sections:
%   1. Each section is separated by a space.
%     played around with different spacings, purely aesthetic, and ended up using the 1em spacing. Anything else threw the word spacing off by too much.
%   2. There should be no trailing whitespace.
%     so you can't just constantly throw in the 1em space. It needed to be precise.
%   3. Can't assume that there will always be one or two sections, sometimes three or more appear. It is always variable.
%     Currently handling from aa to dd.

% **Previous notes:**
% - [x] Switch out of two column view
%     this made it a lot easier for dealing with chapters with mixed verses.
% - [ ] ~~Possibly: use a new command \tab{} which would insert the spacing (probably not the best idea)~~
%     opted for 1em \hspace* instead.
% - [ ] ~~Use the \itemcountmarker for verses~~
%     made my own command that incremented the normal verse counter (enumi).
% - [x] If a verse occurs mid-line, put the number in square brackets.
%     done. but with superscript.
%     also, incremented the normal verse counter so as to not throw that off
% - [ ] Don't include verse numbers as part of the indentation (do it like the BHS does).
%     did not do. would still like to have done, but no idea how to get everything to align.
%         can't use tables, can't use verses. has to be in the inparaenum environment. Well, no, it doesn't, but that makes the most sense except for chapters that don't include poetry, but then what do we do about mixed chapters? this is too complex to solve that easily.

\bibliographystyle{abbrv}
\bibliography{references}
\nocite{*}

\end{document}
